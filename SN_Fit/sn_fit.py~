import yaml

def run(config_filename):
    # YAML input file.
    config = yaml.load(open(config_filename))
    print(config)

    # load cosmology
    cosmo_par = config['Cosmology']
    # load telescope
    tel_par = config['Instrument']

    # this is for output

    save_status = config['Output']['save']
    outdir = config['Output']['directory']
    prodid = config['ProductionID']
    # sn parameters
    sn_parameters = config['SN parameters']

    simu_config = config['Simulator']
    display_lc = config['Display']


def main(args):
    print('running')
    time_ref = time.time()
    run(args.config_filename)
    print('Time', time.time()-time_ref)


if __name__ == '__main__':
    args = parser.parse_args()
    main(args)
